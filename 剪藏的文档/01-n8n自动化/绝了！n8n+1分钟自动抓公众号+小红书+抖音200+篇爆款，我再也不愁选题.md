---

title: 绝了！n8n 1分钟自动抓公众号+小红书+抖音200+篇爆款，我再也不愁选题
date: 2025-10-26
tags: ["n8n", "工作流", "自动化", "工作流自动化"]
category: 自动化工具
---


# 绝了！n8n 1分钟自动抓公众号+小红书+抖音200+篇爆款，我再也不愁选题

Original 会欧耶 [欧耶玩AI](javascript:void(0);)*2025年10月26日 19:08* *广东*

大家好啊！我是会欧耶，专注AI工具的提效，最近在努力探索N8N智能体，希望我的分享可以帮到大家。

作为内容创作者，你最大的焦虑是什么？

一方面不知道由于还在努力探索怎么写，另一方面还感觉大部分时间都在苦恼—**“不知道该写什么”**。

经常混迹于公众号、小红书、抖音，漫无目的地试图找到下一个爆款选题，但这种感觉就像在海里捞针，低效且充满不确定性。

**但如果，有一个“情报机器人”，能每天自动帮你把多平台爆款文章和视频，分平台地整理好，像“数字早餐”一样直接送到你的飞书表格里呢？**

今天，我就教你如何用自动化工具n8n，亲手打造这样一个“爆款情报流水线”。

不需要复杂的代码，只需一键，就能不说每天吧，起码每周能够将新榜上将近200+篇爆款内容，自动同步到你的私人灵感库里。

一、准备工作

新榜上面有公众号，小红书，抖音等等平台，支持搜索各种低粉高爆、10w+阅读榜、原创榜等热门独家数据，很适合做对标。

贴一个地址：https://www.newrank.cn/hotInfo?platform=GZH

![Image](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHckywfWsf6QPM5E1NlteVCHSKcBdDDibWhPdgQ8PnW121EzECvMQ9ETNA/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=0)

打开网页后，我们通过F12查看控制台信息，同时按F5刷新接口，可以看到，

![Image 1](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcUD52ezaVap9lFMz7k1B8l7FDib8k6Vrunw0IEWPUzh6ChCrzlIqAm5w/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=1)

同时N-token存一下，有“奇效”。

![Image 2](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHc1uU30MezcIGZZ50jf72CibkicdXiaicf4vYP38ibH39fbITAJwpf7tgql3A/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=2)

对于热门专题AIGC同样道理，可以拿到数据

![Image 3](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcXogyhFQqKWboFHfrtfiaGzqibVJUw36eWZ6icH1scS2KaR9QSib4fkbuOQ/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=3)

经过分析，这其中存在规律，看不看的懂都没有问题，感受一下即可

```Plain Text
https://gw.newrank.cn/api/aimsgs/nr/aimsgs/aiMsgs/queryMsgs post请求，下面是请求参数，header：Content-Type:application/jsonN-Token:3b2xxxxxxxxxxxxxxxbody{ "start": 1, "size": 25, "msgType": "AI", "topic": "", "type": "", "keyword": "", "platform": "0", "sortType": "1", "timeTag": 1, "searchType": "1"}timeTag: 1的时候是近三天的数据，为2的时候是近七天的数据。platform:0是公众号，1是抖音，2是小红书size：是大小，只不过我试着调大也不行，可以考虑start +一下，实现分页。
```

接着我们进入正题，通过n8n来实现这个工作流。

二、开始搭建

第 1 站：Schedule Trigger

这个节点是整个工作流的“发动机”。它非常简单，就是设置一个定时任务。

- 这块设置定时任务，我是每三天定时启动爬取一次整个流程。

![Image 4](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIetxAibCYtHHlQJUjM1VBINhdzSlGR9F98SS6V1iaO7EZQhc3caGup5WcJIiaFs9j1EHtKwftBjKCEibsQ/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=4)

![Image 5](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHc4BNpXXbMpcMhEt3wTfaFE88l2IBbN5kiaGiaxazHmsGb32bP0ZwcaC7A/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=5)

第 2 站：Date & Time

- **它在做什么？** 它的任务是计算出“**昨天或者前天的日期**”，并把它格式化成 `yyyy-MM-dd`（比如 `2025-10-13`）的样子。

- **为什么需要它？** 因为后面的“数据抓取员”（HTTP Request节点）需要一个明确的日期，新榜上面只支持特定时间指定格式数据，一般是统计前1-2天的数据。

![Image 6](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcJfUPFkW5MuC7vjQ9785G7asboudOzkoYFlNHkvltnDvZmibLTQiaB13Q/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=6)

![Image 7](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHciam3y8yxuhSX5woo0G1xGUCwPU66DoicTOEiaZP4FkogvOHjUkZibIISsg/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=7)

第 3 站：HTTP Request

从“日期计算器”那里拿到“昨天”的日期后，工作流兵分四路，让四个 `HTTP Request` 节点同时开工。它们就像四个专业的“情报员”，各自负责一个领域的情报搜集。

1.

**低粉高爆**：去新榜抓取“科技”分类下（这里大家根据需要自己去抓取分类，我就试一下科技，和我接近一点点），粉丝不多但阅读量超高的爆款公众号文章。

2.

**AIGC-公众号**：关于“AIGC”主题的公众号文章

3.

AIGC-xhs：关于“AIGC”主题的小红书笔记

4.

**AIGC-dy**：关于“AIGC”主题的抖音视频

![Image 8](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcibCLUymj9LDomePV3Xnvc4RvVlsCq273XWOKfV9nfbc41VGxeibTSibVQ/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=8)

![Image 9](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcUicwiciasRRM2RtkuIEGnJVgWnpQPC7k4fyf65LaS9hibbwInRNiaCict32Q/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=9)

 

```Plain Text
curl -X POST "https://gw.newrank.cn/api/aimsgs/nr/aimsgs/aiMsgs/queryMsgs" \-H "Content-Type: application/json" \-H "N-Token: 3b2fxxx" \-d '{ "start": 1, "size": 25, "msgType": "AI", "topic": "", "type": "", "keyword": "", "platform": "0", "sortType": "1", "timeTag": 2, "searchType": "1"}'说明：platform: "0" 对应公众号，timeTag: 2 对应近 7 天数据，参数已按你提供的规则配置。platform: "1" 对应抖音、"2"对应小红书，修改对应参数就可以获取到对应平台数据curl -X POST "https://gw.newrank.cn/api/mainRank/nr/mainRank/hotContent/getWxHotContent" \-H "Content-Type: application/json" \-H "N-Token: 3b2f8xxxx" \-d '{ "start": 1, "size": 25, "rankType": 3, "type": "", "rankDate": "2025-08-23"}'
```

 

直接点运行（看不懂的话可以滴滴豆包），就可以拿到数据了

![Image 10](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcv4w6Z0DuxibichcYcDOgH8KpZnsSSSmPKvSVPfU4peVEb6KBNQsWr3jg/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=10)

加多一点http请求，几乎同样的方法就拿到这些不同平台的数据。

![Image 11](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcCL5wmGXfq96Hicbx5JMIHbxxg1fFr7YR2ibvXuTfkH9ol0Q3Yw77g9QQ/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=11)

具体接口在下面，具体的N-Token获取操作在上面，还是没看懂的可以私聊我

改好N-Token直接拷贝到上面即可。

这里是阿豆包的解释。

![Image 12](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcqicbIRqThX3HE4hnoaSkouoT374ML2KFmBelh26Z5USqUcicTBvljCTA/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=12)

第 4 站：Merge

四个“情报员”搜集完数据后，不能各走各的，需要在这里集合。

- **它在做什么？** 它的作用就像一个“交通枢纽”，会耐心等待前面四个HTTP节点**全部**完成工作，把它们各自拿回来的数据包（公众号文章列表、小红书笔记列表等）合并成一个更大的数据集合。

- 为什么需要它？Merge节点确保了下一步的Code节点可以一次性拿到所有平台的数据，进行统一处理。

![Image 13](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHc33iaMmydfQQXmjvnAcqMBAL7ujEsibn65YUDzbFrEUanPP2qmT1QYPiaA/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=13)

这里有多少个http请求节点，就追加几

![Image 14](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHccVibUVsag2XoibiazLT1Ueh9Aic6TbE4H1Wc1GnvfsnibibCVQqAzL4sMsCA/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=14)

第 5 站：Code ✨ **【核心重点】** ✨

这块code节点主要是将前面几个数据进行格式化，批量转换成飞书节点可以识别的代码。

![Image 15](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcSiaa8SHlXYPKlMxTUqLce0PIicWO4W3ps3zF2LMBqkyub6HjtVEsSicpw/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=15)

![Image 16](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcAttTJKViaHokW7iaTn4bnAGKZ6brIuFwZjJz72cUrg29jibQfX6gSmqgw/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=16)

 

```Plain Text
// 获取从 Merge 节点传入的所有数据项 (items)const inputItems = $input.all();// 创建一个空数组，用于存放所有符合飞书 API 格式的记录const records = [];// 遍历每一个输入项 (来自公众号、小红书、抖音等)for (const item of inputItems) { // 安全地获取每个数据项中的 list 数组，如果不存在则为空数组，防止出错 const dataList = item.json?.data?.list || []; // 遍历 list 数组中的每一条具体内容 for (const rawData of dataList) { let standardizedItem = {}; // 这个对象将作为 "fields" 的值 // --- 核心逻辑：判断数据来源 --- if (rawData.platform === 3) { // 平台ID为 3，判断为小红书 standardizedItem = { "数据来源": "小红书", "文章标题": rawData.title || rawData.desc, "作者": rawData.userName || "未知作者", "阅读数": rawData.readCount ?? 0, "点赞数": rawData.likeCount ?? 0, "评论数": rawData.commentCount ?? 0, "收藏数": rawData.collectCount ?? 0, "分享数": rawData.shareCount ?? 0, "发布时间": rawData.pubTime || rawData.gmtModified, "文章内容": rawData.desc || "", "封面图片": rawData.coverUrl || "", "详情链接": rawData.detailUrl || "", "热词": Array.isArray(rawData.hotWords) ? rawData.hotWords.join(", ") : "", }; } else if (rawData.platform === 1) { // 平台ID为 1，判断为抖音 standardizedItem = { "数据来源": "抖音", "文章标题": rawData.title || "无标题视频", "作者": rawData.userName || "未知作者", "阅读数": rawData.readCount ?? 0, "点赞数": rawData.likeCount ?? 0, "评论数": rawData.commentCount ?? 0, "收藏数": rawData.collectCount ?? 0, "分享数": rawData.shareCount ?? 0, "发布时间": rawData.pubTime || rawData.gmtModified, "文章内容": rawData.title || "", "详情链接": rawData.photoId ? `https://www.douyin.com/video/${rawData.photoId}` : "", "封面图片": rawData.coverUrl || "", "热词": Array.isArray(rawData.hotWords) ? rawData.hotWords.join(", ") : "", }; } else { // 如果没有 platform 字段，则判断为公众号 standardizedItem = { "数据来源": "公众号", "文章标题": (rawData.content || "").substring(0, 30).replace(/\n/g, " ") + "...", "作者": rawData.accountId || "未知账号", "阅读数": rawData.clicksCount ?? 0, "点赞数": rawData.likeCount ?? 0, "评论数": rawData.commentCount ?? 0, "收藏数": rawData.collectCount ?? 0, "分享数": rawData.shareCount ?? 0, "发布时间": rawData.gmtModified || new Date().toISOString(), "文章内容": rawData.content || "", "封面图片": rawData.coverUrl || "", "详情链接": rawData.detailUrl || "", "热词": Array.isArray(rawData.hotWords) ? rawData.hotWords.join(", ") : "", }; } // 关键改动(1): 将标准化后的数据，包装成飞书 API 要求的 { "fields": { ... } } 格式 records.push({ fields: standardizedItem }); }}// 关键改动(2): 构建最终的、符合飞书批量新增格式的请求体 payloadconst payload = { "records": records };// 关键改动(3): 将 payload 转换成 JSON 字符串，并作为单个输出项返回// 这样在飞书节点中就可以用 {{ $json.feishuBodyStr }} 来引用了return [{ json: { feishuBodyStr: JSON.stringify(payload) }}];
```




小 tip

其实代码节点是有技巧的，我最开始在问AI这个节点的时，老解决出的问题都有bug，后来，我就去找一个写没有bug的code节点（直接去搜别人的教程）：

把你的初版问出有问题的代码+别人没bug的代码 结合起来一起丢给AI学习正确代码，去修改错误的代码，发现一下子解决问题了！

如果你还想到复用，可以让他把本次的代码逻辑总结成一个文档。后续code节点编码直接把这个节点作为知识源，在提问。

![Image 17](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcA8fj1ttDicpVmfPK1uVnjxeQic1ewiaumdJe0g1pGtqRia2GLJxv68SfeA/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=17)

把这个文档+自己编写一套prompt，搭建一个专门处理n8n工作流的。这只是一个code思路，其实后面只要有问题，多问AI，然后让AI输出文档，作为知识库传入到智能体上，这样后续提问的时候，可以比较快速解决问题。

![Image 18](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHc9oo4PxjEOqICTj3K1treBnORMhMgxOc98t4m1ckLCbwkS4XZ37HVEg/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=18)

提示词拷贝在这里，可以参考，后续会慢慢迭代。

```Plain Text
# 角色: n8n工作流 (专家导师版)## 背景:我是一名资深的n8n工作流开发者与技术博主，但我更重要的身份是一位**热心的“小白导师”**。我深知初学者在接触自动化流程时会遇到的各种困惑，因此我极度擅长将复杂的概念用最简单、最接地气的语言讲解清楚。我不仅能拆解工作流，更能深入讲解核心节点（尤其是Code节点）的**最佳实践和避坑技巧**，帮你写出稳定、可维护的自动化流程。## 技能:1.  **n8n工作流解析**: 能够深度解析n8n的JSON文件，精准识别所有节点、参数及连接关系。2.  **节点功能白话解读**: 能用大白话解释清楚每个n8n节点的功能，尤其擅长用比喻来帮助理解。3.  **逻辑流程梳理**: 清晰地梳理出工作流从触发到结束的完整数据流转路径。4.  **自然语言教学**: 拥有优秀的技术写作能力，能以自然、流畅的博主口吻撰写分步教程，而不是生硬的机器说明书。5.  **问题诊断与解答**: 能够根据用户的提问和问题描述，快速定位n8n工作流中可能出错的环节，并给出详细、可操作的解决方案。6.  **[新增/强化] Code节点专家级教学**: * **数据安全与容错教学**: 能主动讲解使用`get()`函数安全取值和`||`、`??`设置默认值的重要性，防止流程因数据缺失而中断。 * **类型转换讲解**: 能清晰地解释为什么需要进行类型转换（如数字转字符串），并能识别出像`TextFieldConvFail`这类典型的类型错误。 * **结构化输出指导**: 能解释不同输出结构（如`records`数组、`JSON.stringify`）的用途，并指导用户如何根据下游节点的要求来封装数据。## 规则:1.  **告别刻板结构**: 绝对禁止使用“是什么”、“它在这里干了什么”这类标签化结构。必须将解释直接、自然地融入到一段通顺流畅的描述性文字中。2.  **小白视角**: 所有的解释都必须站在一个完全不懂n8n的新手角度出发。如果遇到技术术语（如"JSON Body"、"media_id"），必须立刻用简单的例子或比喻进行解释。3.  **教程口吻**: 输出的整体风格要像一篇真实的博客教程，有引导、有过渡，语气亲切。4.  **[新增/强化] Code 节点深度解析 (黄金法则)**: 当解释任何`Code`节点时，必须遵循以下讲解逻辑，确保一次讲透： * **① 讲目标**: 首先，用一句话概括这个Code节点的**核心目标**。例如：“这个Code节点就像一个数据精加工车间，它的任务是把前面节点拿到的、格式不统一的原始数据，处理成下游飞书节点能直接‘吃’进去的标准格式。” * **② 讲输入**: 简要说明代码是如何获取上游数据的，通常是`$input.all()`。 * **③ 讲核心处理 (融入最佳实践)**: 在解释代码的核心逻辑时，**必须主动点出并赞扬其中符合最佳实践的写法**。 * **④ 讲输出**: 清晰地描述最终`return`的数据是什么结构，以及为什么是这个结构。例如：“最终它输出的是一个包含`records`数组的JSON结构，这正是飞书‘批量创建记录’接口所要求的标准格式。” * **⑤ 讲避坑**: 主动提及这个环节最常见的错误。例如：“新手在这里最容易犯的错就是类型问题，如果你以后看到飞书报`TextFieldConvFail`，十有八九就是某个字段忘记转换成字符串了，记得回来检查一下。”5.  **主动且耐心**: 在教程讲解完毕后，必须主动、热情地邀请用户提问，并清晰地表明自己“非常乐意”解答任何后续问题。## 工作流程:1.  **接收与预热**: 首先，我会以一位热情博主的身份欢迎用户，并请他/她提供n8n工作流的JSON内容。2.  **后台解析与知识检索**: 我会快速解析JSON，并在我的知识库（尤其是Code节点最佳实践文档）中检索相关信息，准备讲解。3.  **撰写教程大纲**: 我会像写一篇博客文章一样，为每个步骤或关键节点撰写解析。特别是遇到Code节点时，会严格遵循**【Code 节点深度解析 (黄金法则)】**进行讲解。4.  **交付与互动**: 在交付完整的教程大纲后，我会以一个非常开放和欢迎的态度结束，鼓励用户进行提问。5.  **问答环节**: 如果用户提问（尤其是关于Code节点、数据处理或错误的），我将深度结合知识库中的具体信息，提供专家级的、详细的、可操作的解答。## 初始化:你好！我是专门带新手玩转n8n的博主。把你的工作流JSON文件发给我吧，我帮你把它拆解成一步步超详细、超好懂的教程。别怕有看不懂的地方，尤其是在Code节点这种硬核的地方，我有很多实战经验和避坑技巧可以分享给你。有任何问题，随时问我，我保证给你讲明白！
```




第 6 站：飞书多维表格

![Image 19](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcLqs7hlqtzUlDqVZEC8J9KuObHDUd8xTezhNO7JXKbKO3eERw3Flgibg/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=19)

打开你飞书多维表格的链接：

![Image 20](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcWvEwqEd86n8c9QTzqIThF7pZ3gL9K8JXWdN6pRhII7CxAKic33zgKdQ/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=20)

测试改节点

![Image 21](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcicURzySF62iclKVJCZs3qEQCniaK1EgDHiakW7CjPTMK3R4q2k4ALvmKKw/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=21)

整条流水线到这里就跑完啦。从定时触发，到抓取、合并、清洗、入库，一气呵成。是不是感觉每个节点的职责都清晰多了？

最终成效：可以看到数据都成功投入到飞书表格中进行存储好了。

![Image 22](https://mmbiz.qpic.cn/mmbiz_jpg/SWib06ibSlIesYaOiajibVyPbV0u1GHm1gHcC7ANFVthe0uj5Z7P4Zxicsib1KWvLZIictjBOib0BemiaKVFe0hjW2xXD3g/640?wx_fmt=jpeg&from=appmsg&watermark=1#imgIndex=22)

三、总结

恭喜！你已经成功打通了n8n与飞书之间的“数据高速公路”。

**你不再需要每天手动切去各种平台刷新寻找灵感了。也不用苦恼每周要写点什么了。**

但这仅仅是开始。今天我们抓取的是公众号和小红书，但你掌握的这套方法，完全可以平移到新榜支持的其他平台——无论是**Bilibili、微博还是视频号**。你甚至可以修改HTTP节点里的关键词，去持续监控你所在行业的特定频道，或是你最想学习的“对标账号”。

需要工作流可以后台踢踢我。

欢迎在点赞、关注、评论，未来我将持续分享n8n自动化工作流。

